(window["webpackJsonptest-app"]=window["webpackJsonptest-app"]||[]).push([[0],{197:function(e,t,n){e.exports=n(327)},327:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(41),c=n.n(o),i=n(46),u=n(117),s=n(47),l=n(165),O=n(22),R=n(25),m=n(26),f=n(130),_=n.n(f),d={USD:"United State Dollar",CAD:"Canadian Dollar",IDR:"Indonesian Rupiah",GBP:"British Pound",CHF:"Swiss Franc",SGD:"Singapore Dollar",INR:"Indian Rupee",MYR:"Malaysian Ringgit",JPY:"Japanese Yen",KRW:"South Korean Won",EUR:"Euro"},h={ADD_ITEM:"ADD_ITEM",REM_ITEM:"REM_ITEM",SET_BASE_AMOUNT:"SET_BASE_AMOUNT",SET_NEED_FETCH:"SET_NEED_FETCH",FETCH_EXRATES_PENDING:"FETCH_EXRATES_PENDING",FETCH_EXRATES_SUCCESS:"FETCH_EXRATES_SUCCESS",FETCH_EXRATES_ERROR:"FETCH_EXRATES_ERROR"},E=function(e){return{type:h.ADD_ITEM,data:e}},p=function(e){return{type:h.REM_ITEM,id:e}},C=function(e){return{type:h.SET_BASE_AMOUNT,amount:e}},b=function(){return{type:h.FETCH_EXRATES_PENDING}},A=function(e){return{type:h.FETCH_EXRATES_SUCCESS,data:e}},T=function(e){return{type:h.FETCH_EXRATES_ERROR,error:e}},N=h;function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D={baseCurrency:"USD",baseAmount:10,needFetch:!1,fetchRetry:0,fetchError:"",fetchPending:!1,itemList:["IDR","EUR"].map((function(e){return{id:_()("item_"),sym:e,exrate:0,decimals:4}}))},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(console.log("Action: ",t),t.type){case N.ADD_ITEM:return I({},e,{needFetch:!0,itemList:e.itemList.concat({id:_()("item_"),sym:t.data,exrate:0,decimals:4})});case N.REM_ITEM:return I({},e,{itemList:e.itemList.filter((function(e){return e.id!==t.id}))});case N.SET_BASE_AMOUNT:return I({},e,{baseAmount:t.amount});case N.NEED_FETCH:return I({},e,{needFetch:t.needFetch});case N.FETCH_EXRATES_PENDING:return I({},e,{fetchPending:!0,needFetch:!1});case N.FETCH_EXRATES_SUCCESS:return I({},e,{fetchPending:!1,needFetch:!1,fetchRetry:0,itemList:e.itemList.map((function(e){var n=Object.assign({},e);return n.exrate=parseFloat(t.data[e.sym]),n.decimals=n.exrate>=100?2:4,n}))});case N.FETCH_EXRATES_ERROR:return I({},e,{fetchPending:!1,fetchRetry:e.fetchRetry+1,needFetch:e.fetchRetry<2,fetchError:t.error});default:return e}},P=function(e){return e.reducers.baseCurrency},S=function(e){return e.reducers.baseAmount},L=function(e){return e.reducers.itemList},j=function(e){return e.reducers.needFetch},M=function(e){return e.reducers.fetchPending},v=function(e){return e.reducers.fetchError},F={FONT_SIZE_TINY:8,FONT_SIZE_SMALL:12,FONT_SIZE_MEDIUM:14,FONT_SIZE_LARGE:18,FONT_SIZE_EXTRA_LARGE:24,FONT_SIZE_MASSIVE:34,FONT_WEIGHT_LIGHT:"200",FONT_WEIGHT_MEDIUM:"500",FONT_WEIGHT_BOLD:"700"},G={PRIMARY_BACKGROUND_COLOR:"#3d3d3d",PRIMARY_BACKGROUND_COLOR_FAINT:"#797979",PRIMARY_BACKGROUND_COLOR_STRONG:"#d3d3d3",SECONDARY_BACKGROUND_COLOR:"#ffffff",SECONDARY_BACKGROUND_COLOR_FAINT:"#dddddd",SECONDARY_BACKGROUND_COLOR_STRONG:"#7f7f7f",ERROR_BACKGROUND_COLOR:"#423f3f",ERROR_BACKGROUND_COLOR_FAINT:"#e0b4b4",ERROR_BACKGROUND_COLOR_STRONG:"#9f3a38",PRIMARY_TEXT_COLOR:"#ffffff",PRIMARY_TEXT_COLOR_FAINT:"#dddddd",PRIMARY_TEXT_COLOR_STRONG:"#7f7f7f",SECONDARY_TEXT_COLOR:"#3d3d3d",ERROR_TEXT_COLOR:"#9f3a38",PRIMARY_TEXT_BACKGROUND_COLOR:"#3d3d3d",SECONDARY_TEXT_BACKGROUND_COLOR:"#ffffff"},U={PRIMARY_BACKGROUND_COLOR:"#ffffff",PRIMARY_BACKGROUND_COLOR_FAINT:"#dddddd",PRIMARY_BACKGROUND_COLOR_STRONG:"#7f7f7f",SECONDARY_BACKGROUND_COLOR:"#3d3d3d",SECONDARY_BACKGROUND_COLOR_FAINT:"#797979",SECONDARY_BACKGROUND_COLOR_STRONG:"#d3d3d3",ERROR_BACKGROUND_COLOR:"#fff6f6",ERROR_BACKGROUND_COLOR_FAINT:"#e0b4b4",ERROR_BACKGROUND_COLOR_STRONG:"#9f3a38",PRIMARY_TEXT_COLOR:"#3d3d3d",PRIMARY_TEXT_COLOR_FAINT:"#797979",PRIMARY_TEXT_COLOR_STRONG:"#d3d3d3",SECONDARY_TEXT_COLOR:"#ffffff",ERROR_TEXT_COLOR:"#9f3a38",PRIMARY_TEXT_BACKGROUND_COLOR:"#ffffff",SECONDARY_TEXT_BACKGROUND_COLOR:"#3d3d3d"},Y={SET_THEME:"SET_THEME"},B=function(e){return{type:Y.SET_THEME,id:e}},w=Y;function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X={themeId:0,theme:k({},F,{},U)},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.SET_THEME:var n=k({},U);switch(t.id){case 1:n=k({},G)}return k({},e,{themeId:t.id,theme:k({},F,{},n)});default:return e}},H=function(e){return e.themeReducer.theme},z=function(e){return e.themeReducer.themeId},W=[l.a],Z=Object(s.d)(Object(s.c)({reducers:y,themeReducer:x}),s.a.apply(void 0,W)),q=(n(208),n(33)),J=n(32),V=n(34),$=n(28),Q=n(49),ee=n(339),te=n(346),ne=n(72),re=n(338),ae=n(337),oe=n(345),ce=n(340),ie=n(90),ue=n(344),se=n(336),le=n(343);function Oe(e,t){return function(n){console.log("Fetching!!"),n(b()),fetch("https://api.exchangeratesapi.io/latest?base="+e+"&symbols="+t).then((function(e){return e.json()})).then((function(e){if(e.error)throw e.error;return n(A(e.rates)),e.rates})).catch((function(e){n(T(e))}))}}var Re=n(328),me=n(23);function fe(){var e=Object($.a)(["\n&&& {\n\tbackground-color: transparent;\n\tcolor: ",";\n    border-color: ",";\n  \n    &.small {\n    \tfont-style: italic;\n\t}\n}"]);return fe=function(){return e},e}function _e(){var e=Object($.a)(["\n  &&& {\n    border-color: ",";\n    background-color: ",";\n    color: ",";\n  }\n"]);return _e=function(){return e},e}var de=Object(me.c)(te.a)(_e(),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR}),(function(e){return e.theme.PRIMARY_TEXT_COLOR})),he=Object(me.c)(ne.a)(fe(),(function(e){return e.theme.PRIMARY_TEXT_COLOR}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT})),Ee=function(e){function t(){return Object(R.a)(this,t),Object(q.a)(this,Object(J.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){console.log("ItemThisProps: ",this.props);var e=this.props,t=e.item,n=e.onDelete,r=e.baseCurrency,o=e.baseAmount;return a.a.createElement(le.a.Item,null,a.a.createElement(le.a.Content,null,a.a.createElement(de,null,a.a.createElement(oe.a,{columns:"equal"},a.a.createElement(oe.a.Row,{stretched:!0},a.a.createElement(oe.a.Column,{textAlign:"left"},a.a.createElement(oe.a,{columns:"equal"},a.a.createElement(oe.a.Column,{textAlign:"left",width:4},a.a.createElement(he,{size:"large"},t.sym)),a.a.createElement(oe.a.Column,{textAlign:"right"},a.a.createElement(he,{className:"cur_amount",size:"large"},Number(parseFloat(o*t.exrate).toFixed(t.decimals)).toLocaleString("default",{minimumFractionDigits:t.decimals,maximumFractionDigits:t.decimals})))),a.a.createElement(he,{size:"small"},t.sym," - ",d[t.sym]),a.a.createElement(he,{size:"small"},"1 ",r," = ",t.sym," ",Number(parseFloat(t.exrate).toFixed(t.decimals)).toLocaleString("default",{minimumFractionDigits:t.decimals,maximumFractionDigits:t.decimals}))),a.a.createElement(oe.a.Column,{textAlign:"center",mobile:6,computer:4},a.a.createElement(Re.a,{floated:"right",onClick:function(){return n(t.id)},icon:{name:"times circle",size:"big"},negative:!0})))))))}}]),t}(r.Component),pe=function(e){function t(e){var n;return Object(R.a)(this,t),(n=Object(q.a)(this,Object(J.a)(t).call(this,e))).handleDeleteItem=n.handleDeleteItem.bind(Object(ie.a)(n)),n}return Object(V.a)(t,e),Object(m.a)(t,[{key:"handleDeleteItem",value:function(e){console.log("ThisProps: ",this.props," ID: ",e),this.props.remItem(e)}},{key:"componentDidMount",value:function(){console.log("ListThisPropsDidMount: ",this.props);var e=this.props;(0,e.fetchExrates)(e.baseCurrency,e.itemList.map((function(e){return e.sym})).join(","))}},{key:"componentDidUpdate",value:function(e,t,n){console.log("ListThisPropsDidUpdate: ",this.props," PrevProps: ",e);var r=this.props,a=r.fetchExrates,o=r.baseCurrency,c=r.itemList;!0===r.needFetch&&!1===e.needFetch&&a(o,c.map((function(e){return e.sym})).join(","))}},{key:"render",value:function(){var e=this;console.log("ListThisProps: ",this.props);var t=this.props,n=t.itemList,r=t.baseCurrency,o=t.baseAmount,c=t.fetchPending,i=t.themeId;return c?(console.log("ListThisPending: ",c),a.a.createElement(ue.a,{className:"fetch_dimmer",active:!0,inverted:1!==i},a.a.createElement(se.a,{className:"fetch_loader",size:"large"},"Loading"))):a.a.createElement(le.a,null,n.map((function(t){return a.a.createElement(Ee,{key:t.id,item:t,onDelete:e.handleDeleteItem,baseCurrency:r,baseAmount:o})})))}}]),t}(r.Component),Ce=Object(i.b)((function(e){return{baseCurrency:P(e),baseAmount:S(e),itemList:L(e),fetchError:v(e),fetchPending:M(e),needFetch:j(e),themeId:z(e)}}),(function(e){return Object(s.b)({fetchExrates:Oe,remItem:p},e)}))(pe),be=n(342),Ae=n(341);function Te(){var e=Object($.a)(["\n  &&& {\n    background-color: ",";\n    color: ",";\n    border-color: ",";\n\n    &.select_currency{\n        text-transform: capitalize;\n        font-weight: bold;\n    }\n\n    &:hover{\n        border-color: ",";\n    }\n\n    &>.menu>.item{\n        background-color: ",";\n        color: ",";\n        border-color: ",";\n\n        &:hover{\n            background-color: ",";\n            color: ",";\n        }\n    }\n\n    &>input.search{\n        background-color: ",";\n        color: ",";\n        border-color: ",";\n    }\n  }\n"]);return Te=function(){return e},e}var Ne=Object(me.c)(be.a)(Te(),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR}),(function(e){return e.theme.PRIMARY_TEXT_COLOR}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_STRONG}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR}),(function(e){return e.theme.PRIMARY_TEXT_COLOR}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT}),(function(e){return e.theme.PRIMARY_TEXT_COLOR_FAINT}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR}),(function(e){return e.theme.PRIMARY_TEXT_COLOR}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT})),ge=function(e){function t(e){var n;return Object(R.a)(this,t),(n=Object(q.a)(this,Object(J.a)(t).call(this,e))).handleChange=function(e,t){var r=t.name,a=t.value;return n.setState(Object(O.a)({},r,a))},n.handleSubmit=function(e){console.log("CurThisOnSubmit: ",n.state," / e: ",e);var t=n.state.currency;n.setState({currency:""}),""!==t&&n.props.dispatch(E(t.toUpperCase())),n.props.history.push("/")},n.state={currency:"",currencyOptions:Object.keys(d).map((function(e){return{key:e,text:e,value:e}}))},n}return Object(V.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){console.log("CurThisState: ",this.state),console.log("CurThisProps: ",this.props);var e=this.state.currency;return a.a.createElement(Ae.a,{onSubmit:this.handleSubmit},a.a.createElement(Ae.a.Group,{widths:"equal"},a.a.createElement(Ae.a.Field,null,a.a.createElement(Ne,{className:"select_currency",name:"currency",ref:"currency",placeholder:"Currency",value:e,fluid:!0,search:!0,selection:!0,options:this.state.currencyOptions,onChange:this.handleChange})),a.a.createElement(Ae.a.Field,{width:4},a.a.createElement(Re.a,{floated:"right",type:"submit",content:"Submit",primary:!0}))))}}]),t}(r.Component),Ie=Object(i.b)()(ge),De=function(e){function t(){var e,n;Object(R.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(q.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(a)))).handleAddMore=function(){n.props.history.push("/add")},n}return Object(V.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return console.log("CurThisState: ",this.state),console.log("CurThisProps: ",this.props),a.a.createElement(Re.a,{fluid:!0,onClick:this.handleAddMore,icon:{name:"plus circle",size:"large"},labelPosition:"left",positive:!0,content:"Add More Currencies"})}}]),t}(r.Component);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(){var e=Object($.a)(["\n  &&&& {\n    &.dark_mode>input~label{\n      background-color: ",";\n      color: "," !important;\n      border-color: ",";\n    }\n  }\n"]);return Pe=function(){return e},e}function Se(){var e=Object($.a)(["\n  &&& {\n    &.base_amount>input{\n      text-align: right;\n      font-weight: bold;\n\n      background-color: ",";\n      color: ",";\n      border-color: ",";\n    }\n\n    &.error>input{\n      background-color: ",";\n      color: ",";\n      border-color: ",";\n    }\n  }\n"]);return Se=function(){return e},e}function Le(){var e=Object($.a)(["\n  &&& {\n    background-color: transparent;\n    color: ",";\n    border-color: ",";\n  \n    &.small {\n    font-style: italic;\n  }\n}"]);return Le=function(){return e},e}function je(){var e=Object($.a)(["\n  &&& {\n    border-color: ",";\n    background-color: ",";\n    color: ",";\n\n    &.app_wrapper{\n      width:100%;\n      max-width:460px;\n      margin:auto;\n      border-color: ",";\n    }\n  }\n"]);return je=function(){return e},e}function Me(){var e=Object($.a)(["\n  &&& {\n    padding-top: 1em;\n  }\n"]);return Me=function(){return e},e}function ve(){var e=Object($.a)(["\n  body {\n    background-color: ",";\n    color: ",";\n  }\n"]);return ve=function(){return e},e}var Fe=Object(me.b)(ve(),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR}),(function(e){return e.theme.PRIMARY_TEXT_COLOR})),Ge=Object(me.c)(ee.a)(Me()),Ue=Object(me.c)(te.a)(je(),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR}),(function(e){return e.theme.PRIMARY_TEXT_COLOR}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_STRONG})),Ye=Object(me.c)(ne.a)(Le(),(function(e){return e.theme.PRIMARY_TEXT_COLOR}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT})),Be=Object(me.c)(re.a)(Se(),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR}),(function(e){return e.theme.PRIMARY_TEXT_COLOR}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT}),(function(e){return e.theme.ERROR_BACKGROUND_COLOR}),(function(e){return e.theme.ERROR_TEXT_COLOR}),(function(e){return e.theme.ERROR_BACKGROUND_COLOR_FAINT})),we=Object(me.c)(ae.a)(Pe(),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR}),(function(e){return e.theme.PRIMARY_TEXT_COLOR}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT})),Ke=function(e){function t(e){var n;return Object(R.a)(this,t),(n=Object(q.a)(this,Object(J.a)(t).call(this,e))).handleChange=function(e,t){var r=t.name,a=t.value;n.setState(Object(O.a)({},r,a)),console.log("AppThisState: ",n.state," / ",Object(O.a)({},r,a)),console.log("AppThisProps: ",n.props);var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.state,Object(O.a)({},r,a)).baseAmount;n.props.dispatch(C(parseFloat(o)))},n.handleBlur=function(e){console.log("CurThisOnBlurState: ",n.state," / e: ",e," CurThisOnBlurProps: ",n.props),n.setState({baseAmount:parseFloat(n.props.baseAmount).toFixed(4)})},n.handleTheme=function(e,t){var r=t.name,a=t.checked;n.setState(Object(O.a)({},r,a)),console.log("AppThisState2: ",n.state," / ",Object(O.a)({},r,a)),console.log("AppThisProps2: ",n.props),n.props.dispatch(B(!0===a?1:0))},n.state={baseAmount:parseFloat(n.props.baseAmount).toFixed(4)},n}return Object(V.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.itemList,n=e.baseCurrency,r=e.baseAmount,o=e.theme,c=e.themeId;return a.a.createElement(me.a,{theme:o},a.a.createElement(Ge,{textAlign:"center"},a.a.createElement(Fe,null),a.a.createElement(Ue,{className:"app_wrapper",textAlign:"left"},a.a.createElement(oe.a,{columns:"equal"},a.a.createElement(oe.a.Column,null,a.a.createElement(Ye,{size:"small"},n," - ",d[n])),a.a.createElement(oe.a.Column,{textAlign:"right"},a.a.createElement(we,{className:"dark_mode",name:"cb_dark_mode",ref:"cb_dark_mode",size:"small",floated:"right",onChange:this.handleTheme,toggle:!0,label:"Dark Mode",checked:1===c}))),a.a.createElement(Be,{className:"base_amount",name:"baseAmount",ref:"baseAmount",error:Number.isNaN(parseFloat(this.state.baseAmount)),fluid:!0,labelPosition:"left",size:"large",type:"text",placeholder:"Amount",value:this.state.baseAmount||r,onChange:this.handleChange,onBlur:this.handleBlur},a.a.createElement(Ye,{basic:!0},n),a.a.createElement("input",null)),a.a.createElement(ce.a,null),a.a.createElement(Ce,{itemList:t}),a.a.createElement(Ue,null,a.a.createElement(a.a.Fragment,null,a.a.createElement(Q.c,null,a.a.createElement(Q.a,{exact:!0,path:"/add",component:Ie}),a.a.createElement(Q.a,{exact:!0,path:"/",component:De}),a.a.createElement(Q.a,{component:De})))))))}}]),t}(r.Component),ke=Object(i.b)((function(e){return{itemList:L(e),baseCurrency:P(e),baseAmount:S(e),theme:H(e),themeId:z(e)}}),null)(Ke);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(i.a,{store:Z},a.a.createElement(u.a,null,a.a.createElement(ke,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[197,1,2]]]);
//# sourceMappingURL=main.8e45133d.chunk.js.map