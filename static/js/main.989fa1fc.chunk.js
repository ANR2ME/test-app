(window["webpackJsonptest-app"]=window["webpackJsonptest-app"]||[]).push([[0],{186:function(e,t,n){e.exports=n(315)},315:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(33),c=n.n(a),i=n(39),u=n(42),s=n(155),l=n(20),O=n(26),R=n(27),m=n(120),_=n.n(m),f={USD:"United State Dollar",CAD:"Canadian Dollar",IDR:"Indonesian Rupiah",GBP:"British Pound",CHF:"Swiss Franc",SGD:"Singapore Dollar",INR:"Indian Rupee",MYR:"Malaysian Ringgit",JPY:"Japanese Yen",KRW:"South Korean Won",EUR:"Euro"},d={ADD_ITEM:"ADD_ITEM",REM_ITEM:"REM_ITEM",SET_BASE_AMOUNT:"SET_BASE_AMOUNT",SET_NEED_FETCH:"SET_NEED_FETCH",FETCH_EXRATES_PENDING:"FETCH_EXRATES_PENDING",FETCH_EXRATES_SUCCESS:"FETCH_EXRATES_SUCCESS",FETCH_EXRATES_ERROR:"FETCH_EXRATES_ERROR"},h=function(e){return{type:d.ADD_ITEM,data:e}},E=function(e){return{type:d.REM_ITEM,id:e}},p=function(e){return{type:d.SET_BASE_AMOUNT,amount:e}},A=function(){return{type:d.FETCH_EXRATES_PENDING}},C=function(e){return{type:d.FETCH_EXRATES_SUCCESS,data:e}},b=function(e){return{type:d.FETCH_EXRATES_ERROR,error:e}},T=d;function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I={baseCurrency:"USD",baseAmount:10,needFetch:!1,fetchRetry:0,fetchError:"",fetchPending:!1,itemList:["IDR","EUR"].map((function(e){return{id:_()("item_"),sym:e,exrate:0,decimals:4}}))},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(console.log("Action: ",t),t.type){case T.ADD_ITEM:return g({},e,{needFetch:!0,itemList:e.itemList.concat({id:_()("item_"),sym:t.data,exrate:0,decimals:4})});case T.REM_ITEM:return g({},e,{itemList:e.itemList.filter((function(e){return e.id!==t.id}))});case T.SET_BASE_AMOUNT:return g({},e,{baseAmount:t.amount});case T.NEED_FETCH:return g({},e,{needFetch:t.needFetch});case T.FETCH_EXRATES_PENDING:return g({},e,{fetchPending:!0,needFetch:!1});case T.FETCH_EXRATES_SUCCESS:return g({},e,{fetchPending:!1,needFetch:!1,fetchRetry:0,itemList:e.itemList.map((function(e){var n=Object.assign({},e);return n.exrate=parseFloat(t.data[e.sym]),n.decimals=n.exrate>=100?2:4,n}))});case T.FETCH_EXRATES_ERROR:return g({},e,{fetchPending:!1,fetchRetry:e.fetchRetry+1,needFetch:e.fetchRetry<2,fetchError:t.error});default:return e}},y=function(e){return e.reducers.baseCurrency},P=function(e){return e.reducers.baseAmount},S=function(e){return e.reducers.itemList},L=function(e){return e.reducers.needFetch},j=function(e){return e.reducers.fetchPending},M=function(e){return e.reducers.fetchError},v={FONT_SIZE_TINY:8,FONT_SIZE_SMALL:12,FONT_SIZE_MEDIUM:14,FONT_SIZE_LARGE:18,FONT_SIZE_EXTRA_LARGE:24,FONT_SIZE_MASSIVE:34,FONT_WEIGHT_LIGHT:"200",FONT_WEIGHT_MEDIUM:"500",FONT_WEIGHT_BOLD:"700"},F={PRIMARY_BACKGROUND_COLOR:"#3d3d3d",PRIMARY_BACKGROUND_COLOR_FAINT:"#797979",PRIMARY_BACKGROUND_COLOR_STRONG:"#d3d3d3",SECONDARY_BACKGROUND_COLOR:"#ffffff",SECONDARY_BACKGROUND_COLOR_FAINT:"#dddddd",SECONDARY_BACKGROUND_COLOR_STRONG:"#7f7f7f",ERROR_BACKGROUND_COLOR:"#423f3f",ERROR_BACKGROUND_COLOR_FAINT:"#e0b4b4",ERROR_BACKGROUND_COLOR_STRONG:"#9f3a38",PRIMARY_TEXT_COLOR:"#ffffff",PRIMARY_TEXT_COLOR_FAINT:"#dddddd",PRIMARY_TEXT_COLOR_STRONG:"#7f7f7f",SECONDARY_TEXT_COLOR:"#3d3d3d",ERROR_TEXT_COLOR:"#9f3a38",PRIMARY_TEXT_BACKGROUND_COLOR:"#3d3d3d",SECONDARY_TEXT_BACKGROUND_COLOR:"#ffffff"},G={PRIMARY_BACKGROUND_COLOR:"#ffffff",PRIMARY_BACKGROUND_COLOR_FAINT:"#dddddd",PRIMARY_BACKGROUND_COLOR_STRONG:"#7f7f7f",SECONDARY_BACKGROUND_COLOR:"#3d3d3d",SECONDARY_BACKGROUND_COLOR_FAINT:"#797979",SECONDARY_BACKGROUND_COLOR_STRONG:"#d3d3d3",ERROR_BACKGROUND_COLOR:"#fff6f6",ERROR_BACKGROUND_COLOR_FAINT:"#e0b4b4",ERROR_BACKGROUND_COLOR_STRONG:"#9f3a38",PRIMARY_TEXT_COLOR:"#3d3d3d",PRIMARY_TEXT_COLOR_FAINT:"#797979",PRIMARY_TEXT_COLOR_STRONG:"#d3d3d3",SECONDARY_TEXT_COLOR:"#ffffff",ERROR_TEXT_COLOR:"#9f3a38",PRIMARY_TEXT_BACKGROUND_COLOR:"#ffffff",SECONDARY_TEXT_BACKGROUND_COLOR:"#3d3d3d"},U={SET_THEME:"SET_THEME"},Y=function(e){return{type:U.SET_THEME,id:e}},B=U;function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X={themeId:0,theme:K({},v,{},G)},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.SET_THEME:var n=K({},G);switch(t.id){case 1:n=K({},F)}return K({},e,{themeId:t.id,theme:K({},v,{},n)});default:return e}},x=function(e){return e.themeReducer.theme},H=function(e){return e.themeReducer.themeId},z=[s.a],W=Object(u.d)(Object(u.c)({reducers:D,themeReducer:k}),u.a.apply(void 0,z)),Z=(n(197),n(40)),q=n(38),J=n(41),V=n(23),$=n(327),Q=n(333),ee=n(65),te=n(326),ne=n(325),re=n(334),oe=n(328),ae=n(82),ce=n(332),ie=n(324),ue=n(330);function se(e,t){return function(n){console.log("Fetching!!"),n(A()),fetch("https://api.exchangeratesapi.io/latest?base="+e+"&symbols="+t).then((function(e){return e.json()})).then((function(e){if(e.error)throw e.error;return n(C(e.rates)),e.rates})).catch((function(e){n(b(e))}))}}var le=n(316),Oe=n(21);function Re(){var e=Object(V.a)(["\n&&& {\n\tbackground-color: transparent;\n\tcolor: ",";\n    border-color: ",";\n  \n    &.small {\n    \tfont-style: italic;\n\t}\n}"]);return Re=function(){return e},e}function me(){var e=Object(V.a)(["\n  &&& {\n    border-color: ",";\n    background-color: ",";\n    color: ",";\n  }\n"]);return me=function(){return e},e}var _e=Object(Oe.c)(Q.a)(me(),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR}),(function(e){return e.theme.PRIMARY_TEXT_COLOR})),fe=Object(Oe.c)(ee.a)(Re(),(function(e){return e.theme.PRIMARY_TEXT_COLOR}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT})),de=function(e){function t(){return Object(O.a)(this,t),Object(Z.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(J.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){console.log("ItemThisProps: ",this.props);var e=this.props,t=e.item,n=e.onDelete,r=e.baseCurrency,a=e.baseAmount;return o.a.createElement(ue.a.Item,null,o.a.createElement(ue.a.Content,null,o.a.createElement(_e,null,o.a.createElement(re.a,{columns:"equal"},o.a.createElement(re.a.Row,{stretched:!0},o.a.createElement(re.a.Column,{textAlign:"left"},o.a.createElement(re.a,{columns:"equal"},o.a.createElement(re.a.Column,{textAlign:"left",width:4},o.a.createElement(fe,{size:"large"},t.sym)),o.a.createElement(re.a.Column,{textAlign:"right"},o.a.createElement(fe,{className:"cur_amount",size:"large"},Number(parseFloat(a*t.exrate).toFixed(t.decimals)).toLocaleString("default",{minimumFractionDigits:t.decimals,maximumFractionDigits:t.decimals})))),o.a.createElement(fe,{size:"small"},t.sym," - ",f[t.sym]),o.a.createElement(fe,{size:"small"},"1 ",r," = ",t.sym," ",Number(parseFloat(t.exrate).toFixed(t.decimals)).toLocaleString("default",{minimumFractionDigits:t.decimals,maximumFractionDigits:t.decimals}))),o.a.createElement(re.a.Column,{textAlign:"center",mobile:6,computer:4},o.a.createElement(le.a,{floated:"right",onClick:function(){return n(t.id)},icon:{name:"times circle",size:"big"},negative:!0})))))))}}]),t}(r.Component),he=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(Z.a)(this,Object(q.a)(t).call(this,e))).handleDeleteItem=n.handleDeleteItem.bind(Object(ae.a)(n)),n}return Object(J.a)(t,e),Object(R.a)(t,[{key:"handleDeleteItem",value:function(e){console.log("ThisProps: ",this.props," ID: ",e),this.props.remItem(e)}},{key:"componentDidMount",value:function(){console.log("ListThisPropsDidMount: ",this.props);var e=this.props;(0,e.fetchExrates)(e.baseCurrency,e.itemList.map((function(e){return e.sym})).join(","))}},{key:"componentDidUpdate",value:function(e,t,n){console.log("ListThisPropsDidUpdate: ",this.props," PrevProps: ",e);var r=this.props,o=r.fetchExrates,a=r.baseCurrency,c=r.itemList;!0===r.needFetch&&!1===e.needFetch&&o(a,c.map((function(e){return e.sym})).join(","))}},{key:"render",value:function(){var e=this;console.log("ListThisProps: ",this.props);var t=this.props,n=t.itemList,r=t.baseCurrency,a=t.baseAmount,c=t.fetchPending,i=t.themeId;return c?(console.log("ListThisPending: ",c),o.a.createElement(ce.a,{className:"fetch_dimmer",active:!0,inverted:1!==i},o.a.createElement(ie.a,{className:"fetch_loader",size:"large"},"Loading"))):o.a.createElement(ue.a,null,n.map((function(t){return o.a.createElement(de,{key:t.id,item:t,onDelete:e.handleDeleteItem,baseCurrency:r,baseAmount:a})})))}}]),t}(r.Component),Ee=Object(i.b)((function(e){return{baseCurrency:y(e),baseAmount:P(e),itemList:S(e),fetchError:M(e),fetchPending:j(e),needFetch:L(e),themeId:H(e)}}),(function(e){return Object(u.b)({fetchExrates:se,remItem:E},e)}))(he),pe=n(331),Ae=n(329);function Ce(){var e=Object(V.a)(["\n  &&& {\n    background-color: ",";\n    color: ",";\n    border-color: ",";\n\n    &.select_currency{\n        text-transform: capitalize;\n        font-weight: bold;\n    }\n\n    &:hover{\n        border-color: ",";\n    }\n\n    &>.menu>.item{\n        background-color: ",";\n        color: ",";\n        border-color: ",";\n\n        &:hover{\n            background-color: ",";\n            color: ",";\n        }\n    }\n\n    &>input.search{\n        background-color: ",";\n        color: ",";\n        border-color: ",";\n    }\n  }\n"]);return Ce=function(){return e},e}var be=Object(Oe.c)(pe.a)(Ce(),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR}),(function(e){return e.theme.PRIMARY_TEXT_COLOR}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_STRONG}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR}),(function(e){return e.theme.PRIMARY_TEXT_COLOR}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT}),(function(e){return e.theme.PRIMARY_TEXT_COLOR_FAINT}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR}),(function(e){return e.theme.PRIMARY_TEXT_COLOR}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT})),Te=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(Z.a)(this,Object(q.a)(t).call(this,e))).toggleAddMore=function(){n.setState((function(e){return{showAddMore:!e.showAddMore}}))},n.handleChange=function(e,t){var r=t.name,o=t.value;return n.setState(Object(l.a)({},r,o))},n.handleSubmit=function(e){console.log("CurThisOnSubmit: ",n.state," / e: ",e);var t=n.state.currency;n.toggleAddMore(),n.setState({currency:""}),""!==t&&n.props.dispatch(h(t.toUpperCase()))},n.state={showAddMore:!0,currency:"",currencyOptions:Object.keys(f).map((function(e){return{key:e,text:e,value:e}}))},n}return Object(J.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){console.log("CurThisState: ",this.state),console.log("CurThisProps: ",this.props);var e=this.state,t=e.currency;return e.showAddMore?o.a.createElement(le.a,{fluid:!0,onClick:this.toggleAddMore,icon:{name:"plus circle",size:"large"},labelPosition:"left",positive:!0,content:"Add More Currencies"}):o.a.createElement(Ae.a,{onSubmit:this.handleSubmit},o.a.createElement(Ae.a.Group,{widths:"equal"},o.a.createElement(Ae.a.Field,null,o.a.createElement(be,{className:"select_currency",name:"currency",ref:"currency",placeholder:"Currency",value:t,fluid:!0,search:!0,selection:!0,options:this.state.currencyOptions,onChange:this.handleChange})),o.a.createElement(Ae.a.Field,{width:4},o.a.createElement(le.a,{floated:"right",type:"submit",content:"Submit",primary:!0}))))}}]),t}(r.Component),Ne=Object(i.b)()(Te);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(){var e=Object(V.a)(["\n  &&&& {\n    &.dark_mode>input~label{\n      background-color: ",";\n      color: "," !important;\n      border-color: ",";\n    }\n  }\n"]);return Ie=function(){return e},e}function De(){var e=Object(V.a)(["\n  &&& {\n    &.base_amount>input{\n      text-align: right;\n      font-weight: bold;\n\n      background-color: ",";\n      color: ",";\n      border-color: ",";\n    }\n\n    &.error>input{\n      background-color: ",";\n      color: ",";\n      border-color: ",";\n    }\n  }\n"]);return De=function(){return e},e}function ye(){var e=Object(V.a)(["\n  &&& {\n    background-color: transparent;\n    color: ",";\n    border-color: ",";\n  \n    &.small {\n    font-style: italic;\n  }\n}"]);return ye=function(){return e},e}function Pe(){var e=Object(V.a)(["\n  &&& {\n    border-color: ",";\n    background-color: ",";\n    color: ",";\n\n    &.app_wrapper{\n      width:100%;\n      max-width:460px;\n      margin:auto;\n      border-color: ",";\n    }\n  }\n"]);return Pe=function(){return e},e}function Se(){var e=Object(V.a)(["\n  &&& {\n    padding-top: 1em;\n  }\n"]);return Se=function(){return e},e}function Le(){var e=Object(V.a)(["\n  body {\n    background-color: ",";\n    color: ",";\n  }\n"]);return Le=function(){return e},e}var je=Object(Oe.b)(Le(),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR}),(function(e){return e.theme.PRIMARY_TEXT_COLOR})),Me=Object(Oe.c)($.a)(Se()),ve=Object(Oe.c)(Q.a)(Pe(),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR}),(function(e){return e.theme.PRIMARY_TEXT_COLOR}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_STRONG})),Fe=Object(Oe.c)(ee.a)(ye(),(function(e){return e.theme.PRIMARY_TEXT_COLOR}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT})),Ge=Object(Oe.c)(te.a)(De(),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR}),(function(e){return e.theme.PRIMARY_TEXT_COLOR}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT}),(function(e){return e.theme.ERROR_BACKGROUND_COLOR}),(function(e){return e.theme.ERROR_TEXT_COLOR}),(function(e){return e.theme.ERROR_BACKGROUND_COLOR_FAINT})),Ue=Object(Oe.c)(ne.a)(Ie(),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR}),(function(e){return e.theme.PRIMARY_TEXT_COLOR}),(function(e){return e.theme.PRIMARY_BACKGROUND_COLOR_FAINT})),Ye=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(Z.a)(this,Object(q.a)(t).call(this,e))).handleChange=function(e,t){var r=t.name,o=t.value;n.setState(Object(l.a)({},r,o)),console.log("AppThisState: ",n.state," / ",Object(l.a)({},r,o)),console.log("AppThisProps: ",n.props);var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.state,Object(l.a)({},r,o)).baseAmount;n.props.dispatch(p(parseFloat(a)))},n.handleBlur=function(e){console.log("CurThisOnBlurState: ",n.state," / e: ",e," CurThisOnBlurProps: ",n.props),n.setState({baseAmount:parseFloat(n.props.baseAmount).toFixed(4)})},n.handleTheme=function(e,t){var r=t.name,o=t.checked;n.setState(Object(l.a)({},r,o)),console.log("AppThisState2: ",n.state," / ",Object(l.a)({},r,o)),console.log("AppThisProps2: ",n.props),n.props.dispatch(Y(!0===o?1:0))},n.state={baseAmount:parseFloat(n.props.baseAmount).toFixed(4)},n}return Object(J.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this.props,t=e.itemList,n=e.baseCurrency,r=e.baseAmount,a=e.theme,c=e.themeId;return o.a.createElement(Oe.a,{theme:a},o.a.createElement(Me,{textAlign:"center"},o.a.createElement(je,null),o.a.createElement(ve,{className:"app_wrapper",textAlign:"left"},o.a.createElement(re.a,{columns:"equal"},o.a.createElement(re.a.Column,null,o.a.createElement(Fe,{size:"small"},n," - ",f[n])),o.a.createElement(re.a.Column,{textAlign:"right"},o.a.createElement(Ue,{className:"dark_mode",name:"cb_dark_mode",ref:"cb_dark_mode",size:"small",floated:"right",onChange:this.handleTheme,toggle:!0,label:"Dark Mode",checked:1===c}))),o.a.createElement(Ge,{className:"base_amount",name:"baseAmount",ref:"baseAmount",error:Number.isNaN(parseFloat(this.state.baseAmount)),fluid:!0,labelPosition:"left",size:"large",type:"text",placeholder:"Amount",value:this.state.baseAmount||r,onChange:this.handleChange,onBlur:this.handleBlur},o.a.createElement(Fe,{basic:!0},n),o.a.createElement("input",null)),o.a.createElement(oe.a,null),o.a.createElement(Ee,{itemList:t}),o.a.createElement(ve,null,o.a.createElement(Ne,null)))))}}]),t}(r.Component),Be=Object(i.b)((function(e){return{itemList:S(e),baseCurrency:y(e),baseAmount:P(e),theme:x(e),themeId:H(e)}}),null)(Ye);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(i.a,{store:W},o.a.createElement(Be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[186,1,2]]]);
//# sourceMappingURL=main.989fa1fc.chunk.js.map