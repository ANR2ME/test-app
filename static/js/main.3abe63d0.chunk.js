(window["webpackJsonptest-app"]=window["webpackJsonptest-app"]||[]).push([[0],{177:function(e,t,n){e.exports=n(310)},189:function(e,t,n){},190:function(e,t,n){},290:function(e,t,n){},291:function(e,t,n){},309:function(e,t,n){},310:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(30),c=n.n(o),i=n(25),s=n(44),u=n(151),l=n(32),m=n(23),p=n(24),h=n(115),E=n.n(h),f={USD:"United State Dollar",CAD:"Canadian Dollar",IDR:"Indonesian Rupiah",GBP:"British Pound",CHF:"Swiss Franc",SGD:"Singapore Dollar",INR:"Indian Rupee",MYR:"Malaysian Ringgit",JPY:"Japanese Yen",KRW:"South Korean Won",EUR:"Euro"},b={ADD_ITEM:"ADD_ITEM",REM_ITEM:"REM_ITEM",SET_BASE_AMOUNT:"SET_BASE_AMOUNT",SET_NEED_FETCH:"SET_NEED_FETCH",FETCH_EXRATES_PENDING:"FETCH_EXRATES_PENDING",FETCH_EXRATES_SUCCESS:"FETCH_EXRATES_SUCCESS",FETCH_EXRATES_ERROR:"FETCH_EXRATES_ERROR"},d=function(e){return{type:b.ADD_ITEM,data:e}},y=function(e){return{type:b.REM_ITEM,id:e}},g=function(e){return{type:b.SET_BASE_AMOUNT,amount:e}},O=function(){return{type:b.FETCH_EXRATES_PENDING}},C=function(e){return{type:b.FETCH_EXRATES_SUCCESS,data:e}},A=function(e){return{type:b.FETCH_EXRATES_ERROR,error:e}},S=b;function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _={baseCurrency:"USD",baseAmount:10,needFetch:!1,fetchRetry:0,fetchError:"",fetchPending:!1,itemList:["IDR","EUR"].map(function(e){return{id:E()("item_"),sym:e,exrate:0,decimals:4}})},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(console.log("Action: ",t),t.type){case S.ADD_ITEM:return j({},e,{needFetch:!0,itemList:e.itemList.concat({id:E()("item_"),sym:t.data,exrate:0,decimals:4})});case S.REM_ITEM:return j({},e,{itemList:e.itemList.filter(function(e){return e.id!==t.id})});case S.SET_BASE_AMOUNT:return j({},e,{baseAmount:t.amount});case S.NEED_FETCH:return j({},e,{needFetch:t.needFetch});case S.FETCH_EXRATES_PENDING:return j({},e,{fetchPending:!0,needFetch:!1});case S.FETCH_EXRATES_SUCCESS:return j({},e,{fetchPending:!1,needFetch:!1,fetchRetry:0,itemList:e.itemList.map(function(e){var n=Object.assign({},e);return n.exrate=parseFloat(t.data[e.sym]),n.decimals=n.exrate>=100?2:4,n})});case S.FETCH_EXRATES_ERROR:return j({},e,{fetchPending:!1,fetchRetry:e.fetchRetry+1,needFetch:e.fetchRetry<2,fetchError:t.error});default:return e}},F=function(e){return e.needFetch},R=function(e){return e.itemList},P=function(e){return e.fetchPending},D=function(e){return e.fetchError},w=[u.a],M=Object(s.c)(v,s.a.apply(void 0,w)),I=(n(188),n(189),n(36)),N=n(35),x=n(37),L=n(321),k=n(327),H=n(62),U=n(320),B=n(322),X=n(326),z=n(319),G=n(325);function J(e,t){return function(n){console.log("Fetching!!"),n(O()),fetch("https://api.exchangeratesapi.io/latest?base="+e+"&symbols="+t).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return n(C(e.rates)),e.rates}).catch(function(e){n(A(e))})}}var W=n(329),q=n(311),Y=(n(190),function(e){function t(){return Object(m.a)(this,t),Object(I.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){console.log("ItemThisProps: ",this.props);var e=this.props,t=e.item,n=e.remItem,r=e.baseCurrency,o=e.baseAmount;return a.a.createElement(G.a.Item,null,a.a.createElement(G.a.Content,null,a.a.createElement(k.a,null,a.a.createElement(W.a,{columns:"equal"},a.a.createElement(W.a.Row,{stretched:!0},a.a.createElement(W.a.Column,{textAlign:"left"},a.a.createElement(W.a,{columns:"equal"},a.a.createElement(W.a.Column,{textAlign:"left",width:4},a.a.createElement(H.a,{size:"large"},t.sym)),a.a.createElement(W.a.Column,{textAlign:"right"},a.a.createElement(H.a,{className:"cur_amount",size:"large"},Number(parseFloat(o*t.exrate).toFixed(t.decimals)).toLocaleString("default",{minimumFractionDigits:t.decimals,maximumFractionDigits:t.decimals})))),a.a.createElement(H.a,{size:"small"},t.sym," - ",f[t.sym]),a.a.createElement(H.a,{size:"small"},"1 ",r," = ",t.sym," ",Number(parseFloat(t.exrate).toFixed(t.decimals)).toLocaleString("default",{minimumFractionDigits:t.decimals,maximumFractionDigits:t.decimals}))),a.a.createElement(W.a.Column,{textAlign:"center",mobile:6,computer:4},a.a.createElement(q.a,{floated:"right",onClick:function(){return n(t.id)},icon:{name:"times circle",size:"big"},negative:!0})))))))}}]),t}(r.Component)),K=Object(i.b)(function(e){var t=e.baseCurrency,n=e.baseAmount;return console.log("ItemThisState2: ",{baseCurrency:t,baseAmount:n}),{baseCurrency:t,baseAmount:n}},function(e){return{remItem:function(t){console.log("remItem!"),e(y(t))}}})(Y),$=(n(290),function(e){function t(){return Object(m.a)(this,t),Object(I.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){console.log("ListThisPropsDidMount: ",this.props);var e=this.props;(0,e.fetchExrates)(e.baseCurrency,e.itemList.map(function(e){return e.sym}).join(","))}},{key:"componentDidUpdate",value:function(e,t,n){console.log("ListThisPropsDidUpdate: ",this.props," PrevProps: ",e);var r=this.props,a=r.fetchExrates,o=r.baseCurrency,c=r.itemList;!0===r.needFetch&&!1===e.needFetch&&a(o,c.map(function(e){return e.sym}).join(","))}},{key:"render",value:function(){console.log("ListThisProps: ",this.props);var e=this.props,t=e.itemList,n=e.baseCurrency,r=e.baseAmount,o=e.fetchPending;return o?(console.log("ListThisPending: ",o),a.a.createElement(X.a,{active:!0,inverted:!0},a.a.createElement(z.a,{size:"large"},"Loading"))):a.a.createElement(G.a,null,t.map(function(e){return a.a.createElement(K,{key:e.id,item:e,remItem:y,baseCurrency:n,baseAmount:r})}))}}]),t}(r.Component)),Q=Object(i.b)(function(e){return{baseCurrency:e.baseCurrency,baseAmount:e.baseAmount,itemList:R(e),fetchError:D(e),fetchPending:P(e),needFetch:F(e)}},function(e){return Object(s.b)({fetchExrates:J},e)})($),V=n(323),Z=n(324),ee=(n(291),function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(I.a)(this,Object(N.a)(t).call(this,e))).toggleAddMore=function(){n.setState(function(e){return{showAddMore:!e.showAddMore}})},n.handleChange=function(e,t){var r=t.name,a=t.value;return n.setState(Object(l.a)({},r,a))},n.handleSubmit=function(e){console.log("CurThisOnSubmit: ",n.state," / e: ",e);var t=n.state.currency;n.toggleAddMore(),n.setState({currency:""}),""!==t&&n.props.dispatch(d(t.toUpperCase()))},n.state={showAddMore:!0,currency:"",currencyOptions:Object.keys(f).map(function(e){return{key:e,text:e,value:e}})},n}return Object(x.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){console.log("CurThisState: ",this.state),console.log("CurThisProps: ",this.props);var e=this.state,t=e.currency;return e.showAddMore?a.a.createElement(q.a,{fluid:!0,onClick:this.toggleAddMore,icon:{name:"plus circle",size:"large"},labelPosition:"left",positive:!0,content:"Add More Currencies"}):a.a.createElement(V.a,{onSubmit:this.handleSubmit},a.a.createElement(V.a.Group,{widths:"equal"},a.a.createElement(V.a.Field,null,a.a.createElement(Z.a,{className:"select_currency",name:"currency",ref:"currency",placeholder:"Currency",value:t,fluid:!0,search:!0,selection:!0,options:this.state.currencyOptions,onChange:this.handleChange})),a.a.createElement(V.a.Field,{width:4},a.a.createElement(q.a,{floated:"right",type:"submit",content:"Submit",primary:!0}))))}}]),t}(r.Component)),te=Object(i.b)()(ee);n(309);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var re=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(I.a)(this,Object(N.a)(t).call(this,e))).handleChange=function(e,t){var r=t.name,a=t.value;n.setState(Object(l.a)({},r,a)),console.log("AppThisState: ",n.state," / ",Object(l.a)({},r,a)),console.log("AppThisProps: ",n.props);var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n.state,Object(l.a)({},r,a)).baseAmount;n.props.dispatch(g(parseFloat(o)))},n.handleBlur=function(e){console.log("CurThisOnBlurState: ",n.state," / e: ",e," CurThisOnBlurProps: ",n.props),n.setState({baseAmount:parseFloat(n.props.baseAmount).toFixed(4)})},n.state={baseAmount:"10.0000"},n}return Object(x.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.itemList,n=e.baseCurrency;return a.a.createElement(L.a,{textAlign:"center"},a.a.createElement(k.a,{className:"app_wrapper",textAlign:"left"},a.a.createElement(H.a,{size:"small"},n," - ",f[n]),a.a.createElement(U.a,{className:"base_amount",name:"baseAmount",ref:"baseAmount",error:Number.isNaN(parseFloat(this.state.baseAmount)),fluid:!0,labelPosition:"left",size:"large",type:"text",placeholder:"Amount",value:this.state.baseAmount||this.props.baseAmount,onChange:this.handleChange,onBlur:this.handleBlur},a.a.createElement(H.a,{basic:!0},n),a.a.createElement("input",null)),a.a.createElement(B.a,null),a.a.createElement(Q,{itemList:t}),a.a.createElement(k.a,null,a.a.createElement(te,null))))}}]),t}(r.Component),ae=Object(i.b)(function(e){return{itemList:e.itemList,baseCurrency:e.baseCurrency,baseAmount:e.baseAmount}},null)(re);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(i.a,{store:M},a.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[177,1,2]]]);
//# sourceMappingURL=main.3abe63d0.chunk.js.map